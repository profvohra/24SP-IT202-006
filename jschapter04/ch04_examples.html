<html>
  <body>
    <h1>JavaScript Chapter 4 Examples</h1>
    <script>
      // Slide 9
      const confirmDelete = confirm("Are you sure you want to delete this item?");
      if (confirmDelete) {
        // code that deletes the item
        console.log("delete confirmed");
      } else {
        console.log("delete canceled");
      }
    </script>
    <!-- Slide 12 -->
    <h4>Change the color of this first p element.</h4>
    <p>This is a p element.</p>
    <p>Change the color of the element with id="rate"</p>
    <p id="rate">This is a p element with id="rate"</p>
    <p class="error">This is a message with class="error"</p>
    <script>
      // Slide 12
      const first_p_element = document.querySelector("p");
      first_p_element.style.color = "green";
      const rate_element = document.querySelector("#rate");
      rate_element.style.color = "blue";
      const error_element = document.querySelector(".error");
      error_element.style.color = "red";

      const node_list = document.querySelectorAll("p");
      for(let index = 0; index < node_list.length; index++) {
        node_list[index].style.backgroundColor = "yellow";
      }
      // Slide 21
      const today = new Date();
      document.write(today.toDateString());
      document.write("<br>");
      document.write(today.getDate());
      document.write("<br>");
      // Slide 25
      // function declaration example
      function showYear() {
        const today = new Date();
        document.write("<p>The year is " 
          + today.getFullYear() + "</p>");
      }
      // call/invoke this showYear function
      showYear();
      // Slide 31
      // function expression example
      const calculateTax = function(subtotal, taxRate) {
        const tax = subtotal * taxRate;
        return tax.toFixed(2);
      }
      // call/invoke this function
      const subtotal = 85;
      const taxRate = 0.05;
      const salesTax = calculateTax(subtotal, taxRate);
      document.write("<p>The sales tax is " + salesTax + "</p>");
      // Slide 33
      // arrow function example
      const calculateTax2 = (subtotal) => (subtotal * 0.074).toFixed(2);
      const salesTax2 = calculateTax2(75);
      document.write("<p>The sales tax is " + salesTax2 + "</p>");

      const getCurrentUrl = () => document.location.href;
      const url = getCurrentUrl();
      console.log("url = " + url);
      // Slide 36
      // variable scope
      function local() {
        // declare a variable using 'var' keyword
        for(var index = 0; index < 5; index++) {
          console.log("index = " + index);
        }
        // Can we access 'index' after for-loop?
        console.log("after for-loop, index = " + index);
        // Yes, 'index' is in function-scope

        // declare a variable using 'let' keyword
        for(let count = 0; count < 5; count++) {
          console.log("count = " + count);
        }
        // Can we access 'count' after for-loop?
        console.log("after for-loop, count = " + count);
        // No, 'count' is in block-scope
      }
      local();
    </script>
  </body>
</html>